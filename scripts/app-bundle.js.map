{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","services/authentication.js","services/busy.js","services/local.js","services/settings.js","services/tracker.js","pages/backlog/filter-columns.js","pages/backlog/sprint.js","pages/login/login.js","pages/projects/select.js","pages/settings/change.js","pages/settings/filter-available-options.js","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/app.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/assets/styles/animations.css","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/pages/backlog/sprint.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/assets/styles/app.css","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/pages/login/login.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/pages/projects/select.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard/src/pages/settings/change.html"],"names":["App","bindingEngine","router","authentication","busy","tracker","isBusy","project","user","isEnlarged","toggleEnlarged","activate","currentUser","propertyObserver","subscribe","newValue","oldValue","getProject","then","logout","navigate","configureRouter","config","auth","title","addPipelineStep","map","route","moduleId","unAuthedOnly","name","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","Authentication","getUser","isAuthenticated","isValid","token","run","navigationInstruction","next","instructions","getAllInstructions","some","i","cancel","catch","Busy","on","off","Local","g","key","localStorage","getItem","JSON","parse","err","d","s","value","setItem","stringify","Array","isArray","forEach","removeItem","Settings","storyStates","columnBaseTypes","columns","basedOn","Tracker","client","local","ls","projectId","_projects","_currentUser","_users","_token","_configureClient","withBaseUrl","withDefaults","headers","_fetch","url","inBackground","resolve","reject","fetch","response","json","kind","Error","code","error","parseInt","getProjects","projects","item","id","length","getCurrent","getUsers","users","result","_projectId","FilterColumnsValueConverter","toView","array","slice","filter","current_state","y","labels","Sprint","settings","iteration","timeout","pollInterval","params","routeConfig","startPoll","deactivate","clearTimeout","userId","person","isFirst","setTimeout","bind","Login","placeholder","setToken","console","log","Select","attached","Change","removeValueFromColumn","column","splice","indexOf","addValueForColumn","valid","back","history","FilterAvailableOptionsValueConverter","except","val"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { inject } from \"aurelia-framework\";\nimport { BindingEngine } from \"aurelia-binding\";\nimport { Router } from \"aurelia-router\";\nimport { Authentication } from \"./services/authentication\";\nimport { Busy } from \"./services/busy\"\nimport { Tracker } from \"./services/tracker\";\n\n@inject(BindingEngine, Router, Authentication, Busy, Tracker)\nexport class App {\n  constructor(bindingEngine, router, authentication, busy, tracker) {\n    this.bindingEngine = bindingEngine;\n    this.router = router;\n    this.authentication = authentication;\n    this.busy = busy;\n    this.isBusy = busy.isBusy;\n    this.tracker = tracker;\n    this.project = {};\n    this.user = {};\n    this.isEnlarged = false;\n  }\n\n  toggleEnlarged() {\n    this.isEnlarged = !this.isEnlarged;\n  }\n\n  activate() {\n    this.user = this.tracker.currentUser;\n    this.bindingEngine.propertyObserver(this.tracker, \"currentUser\")\n      .subscribe((newValue, oldValue) => {\n        this.user = this.tracker.currentUser;\n      });\n    \n    this.bindingEngine.propertyObserver(this.tracker, \"projectId\")\n      .subscribe((newValue, oldValue) => {\n        this.tracker.getProject(newValue)\n          .then(project => this.project = project);\n      });\n\n    this.bindingEngine.propertyObserver(this.busy, \"isBusy\")\n      .subscribe((newValue, oldValue) => this.isBusy = newValue);\n  }\n\n  logout() {\n    this.authentication.logout();\n    this.router.navigate(\"\");\n  }\n\n  configureRouter(config, router) {\n    var auth = true;\n\n    config.title = \"Pivotal Tracker Sprint Backlog\";\n    config.addPipelineStep(\"authorize\", this.authentication);\n    config.map([\n      { route: [\"\", \"login\"], moduleId: \"pages/login/login\", title: \"Login\", unAuthedOnly: true },\n      { route: \"select-project\", name: \"select-project\", moduleId: \"pages/projects/select\", title: \"Select Project\", auth },\n      { route: \"project/:id/sprint-backlog\", name: \"sprint-backlog\", moduleId: \"pages/backlog/sprint\", title: \"Sprint Backlog\", auth },\n      { route: \"settings\", name: \"settings\", moduleId: \"pages/settings/change\", title: \"Settings\", auth }\n    ]);\n  }\n}\n\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from \"./environment\";\n\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature(\"./resources\");\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin(\"aurelia-testing\");\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { inject } from \"aurelia-framework\";\nimport { Redirect } from \"aurelia-router\";\nimport { Tracker } from \"./tracker\";\n\n@inject(Tracker)\nexport class Authentication {\n  constructor(tracker) {\n    this.tracker = tracker;\n  }\n\n  getUser() {\n    return this.tracker.currentUser;\n  }\n\n  isAuthenticated() {\n    return this.tracker.isValid();\n  }\n\n  logout() {\n    this.tracker.token = null;\n  }\n\n  run(navigationInstruction, next) {\n    var instructions = navigationInstruction.getAllInstructions();\n    var auth = instructions.some(i => i.config.auth);\n    var unAuthedOnly = instructions.some(i => i.config.unAuthedOnly);\n\n    if (auth || unAuthedOnly) {\n      return this.isAuthenticated()\n        .then(result => {\n          return auth\n            ? next()\n            : next.cancel(new Redirect(\"select-project\"));\n        })\n        .catch(error => {\n          return unAuthedOnly\n            ? next()\n            : next.cancel(new Redirect(\"login\"));\n        });\n    } else {\n      return next();\n    }\n  }\n}\n","export class Busy {\n  constructor() {\n    this.isBusy = false;\n  }\n\n  on() {\n    this.isBusy = true;\n  }\n\n  off() {\n    this.isBusy = false;\n  }\n}\n","export class Local {\n  g (key) {\n    if (localStorage.getItem(key)) {\n      try {\n        return JSON.parse(localStorage.getItem(key));\n      } catch (err) {\n        this.d(key);\n        return false;\n      }\n    }\n  }\n\n  s (key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  d (key) {\n    if (Array.isArray(key)) {\n      key.forEach(i => this.d(i));\n    }\n    localStorage.removeItem(key);\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Local } from \"./local\";\n\n@inject(Local)\nexport class Settings {\n  constructor() {\n    this.storyStates = [\n       \"unscheduled\", \"unstarted\", \"started\", \"finished\", \"delivered\",\n       \"accepted\", \"rejected\"\n    ];\n\n    this.columnBaseTypes = [\"state\", \"label\"];\n    \n    this.columns = [\n      { title: \"Todo\", basedOn: \"state\", value: [\"planned\", \"unstarted\"] },\n      { title: \"Doing\", basedOn: \"state\", value: [\"started\"] },\n      { title: \"Testing\", basedOn: \"state\", value: [\"finished\"] },\n      { title: \"Done\", basedOn: \"state\", value: [\"delivered\", \"accepted\"] },\n      { title: \"Impedements\", basedOn: \"label\", value: [\"_blocked\"] }\n    ];\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { HttpClient } from \"aurelia-fetch-client\";\nimport { Busy } from \"./busy\"\nimport { Local } from \"./local\";\n\n@inject(HttpClient, Busy, Local)\nexport class Tracker {\n  constructor(client, busy, local) {\n    this.client = client;\n    this.busy = busy;\n    this.local = local;\n    this.ls = {\n      token: \"pivotal-tracker-token\",\n      user: \"pivotal-tracker-current-user\"\n    };\n    this.projectId = null;\n    this._projects = [];\n    this._currentUser = this.local.g(this.ls.user) || null;\n    this._users = {};\n    this._token = this.local.g(this.ls.token) || null;\n    this._configureClient();\n  }\n\n  _configureClient() {\n    this.client.configure(config => {\n      config\n        .withBaseUrl(\"https://www.pivotaltracker.com/services/v5/\")\n        .withDefaults({\n          headers: {\n            \"X-TrackerToken\": this._token\n          }\n        });\n    });\n  }\n\n  set currentUser(value) {\n    if (value) {\n      this._currentUser = value;\n      this.local.s(this.ls.user, value);\n    } else {\n      this._currentUser = null;\n      this.local.d(this.ls);\n    }\n  }\n\n  get currentUser() {\n    return this._token ? this._currentUser : null;\n  }\n\n  set token(value) {\n    if (!value) {\n      this._currentUser = null;\n      this._projectId = null;\n    }\n\n    this._token = value;\n\n    this.local.s(this.ls.token, value);\n\n    this._configureClient();\n  }\n\n  _fetch(url, inBackground) {\n    return new Promise((resolve, reject) => {\n      if (inBackground !== true) {\n        this.busy.on();\n      }\n\n      this.client.fetch(url)\n        .then(response => response.json())\n        .then(response => {\n          if (response.kind !== \"error\") {\n            resolve(response);\n          } else {\n            this.currentUser = null;\n            reject(new Error(response.code));\n          }\n          this.busy.off();\n        })\n        .catch(error => {\n          this.currentUser = null;\n          reject(error);\n          this.busy.off();\n        })\n    });\n  }\n\n  getProject(projectId) {\n    projectId = parseInt(projectId);\n    \n    return new Promise((resolve, reject) => {\n      this.getProjects()\n        .then(projects => {\n          projects.forEach(item => {\n            if (item.id === projectId) {\n              resolve(item);\n            }\n          });\n          resolve();\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  getProjects() {\n    return new Promise((resolve, reject) => {\n      if (this._projects && this._projects.length > 0) {\n        return resolve(this._projects);\n      }\n\n      this._fetch(\"projects\")\n        .then(projects => {\n          this._projects = projects;\n          resolve(this._projects);\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  getCurrent(inBackground) {\n    return this._fetch(`projects/${this.projectId}/iterations?scope=current_backlog&limit=1`, inBackground);\n  }\n\n  getUsers() {\n    return new Promise((resolve, reject) => {\n      if (this._users[this.projectId] && this._users[this.projectId].length > 0) {\n        return resolve(this._users[this.projectId]);\n      }\n\n      this._fetch(`projects/${this.projectId}/memberships`)\n        .then(users => {\n          this._users[this.projectId] = users;\n          resolve(this._users[this.projectId]);\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  isValid() {\n    return new Promise((resolve, reject) => {\n      if (this.currentUser) {\n        return resolve(this.currentUser);\n      }\n\n      if (!this._token) {\n        return reject(new Error(\"No token set\"));\n      }\n\n      this.client.fetch(\"me\")\n        .then(response => response.json())\n        .then(result => {\n          if (result.kind !== \"error\") {\n            this.currentUser = result;\n            resolve(this.currentUser);\n          } else {\n            this.currentUser = null;\n            reject(new Error(response.code));\n          }\n        })\n        .catch(error => {\n          this.currentUser = null;\n          reject(error);\n        });\n    });\n  }\n}\n","export class FilterColumnsValueConverter {\n  toView(array, config) {\n    if (Array.isArray(array) === false) {\n      return array;\n    }\n\n    var value = config.value;\n    if (Array.isArray(value) === false) {\n      value = [value];\n    }\n\n    return array.slice(0).filter(item => {\n      if (config.basedOn === \"state\") {\n        for (var i = 0; i < value.length; i++) {\n          if (item.current_state === value[i]) {\n            return true;\n          }\n        }\n      } else {\n        for (var i = 0; i < value.length; i++) {\n          for (var y = 0; y < item.labels.length; y++) {\n            if (item.labels[y].name === value[i]) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    });\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\nimport { Settings } from \"./../../services/settings\";\n\n@inject(Router, Tracker, Settings)\nexport class Sprint {\n  constructor(router, tracker, settings) {\n    this.columns = settings.columns;\n    this.router = router;\n    this.tracker = tracker;\n    this.iteration = {};\n    this.timeout = null;\n    this.pollInterval = 60000;\n    this.users = [];\n  }\n\n  activate(params, routeConfig) {\n    this.tracker.projectId = this.projectId = params.id;\n    this.tracker.getUsers()\n      .then(users => this.users = users)\n      .catch(error => this.router.navigate(\"\"));\n    this.startPoll(true);\n  }\n\n  deactivate() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  getUser(userId) {\n    userId = parseInt(userId);\n\n    for (var i = 0; i < this.users.length; i++) {\n      var user = this.users[i];\n\n      if (userId === user.person.id) {\n        return user;\n      }\n    }\n  }\n\n  startPoll(isFirst) {\n    this.tracker.getCurrent(!isFirst)\n      .then(iteration => {\n        this.iteration = iteration[0];\n        this.timeout = setTimeout(this.startPoll.bind(this), this.pollInterval);\n      })\n      .catch(error => this.router.navigate(\"\"));\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\n\n@inject(Tracker, Router)\nexport class Login {\n  constructor(tracker, router) {\n    this.tracker = tracker;\n    this.router = router;\n\n    this.placeholder = \"Enter API token..\";\n    this.token = \"4ea441cc4dcb4ee87426549edd244a95\";\n  }\n\n  setToken() {\n    if (this.token.length > 0) {\n      this.tracker.token = this.token;\n      this.tracker.isValid()\n        .then(result => {\n          this.router.navigate(\"select-project\");\n        })\n        .catch(error => {\n          console.log(\"Try again, stupid\");\n        });\n    } else {\n      console.log(\"Try again, stupid 2\");\n    }\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\n\n@inject(Tracker, Router)\nexport class Select {\n  constructor(tracker, router) {\n    this.tracker = tracker;\n    this.tracker.projectId = null;\n    this.router = router;\n    this.projects = [];\n  }\n\n  attached() {\n    this.tracker.getProjects()\n      .then(projects => this.projects = projects)\n      .catch(error => this.router.navigate(\"\"));\n  }\n} \n","import { inject } from \"aurelia-framework\";\nimport { Tracker } from \"./../../services/tracker\";\nimport { Settings } from \"./../../services/settings\";\n\n@inject(Tracker, Settings)\nexport class Change {\n  constructor(tracker, settings) {\n    this.tracker = tracker;\n    this.settings = settings;\n  }\n\n  removeValueFromColumn(value, column) {\n    column.value.splice(column.value.indexOf(value));\n  }\n\n  addValueForColumn(column) {\n    this.settings.storyStates.forEach(item => {\n      var valid = true;\n\n      this.settings.columns.forEach(col => {\n        \n      })\n    });\n  }\n\n  back() {\n    history.back();\n  }\n}\n","export class FilterAvailableOptionsValueConverter {\n  toView(array, config, except) {\n    if (Array.isArray(array) === false) {\n      return array;\n    }\n\n    array = array.slice(0);\n\n    config.forEach(item => {\n      if (item.basedOn !== \"state\") {\n        return;\n      }\n      \n      item.value.forEach(val => {\n        if (val !== except && array.indexOf(val) !== -1) {\n          array.splice(array.indexOf(val), 1);\n        }\n      });\n    });\n\n    return array;\n  }\n}\n",null,null,null,null,null,null,null],"sourceRoot":"..\\src"}