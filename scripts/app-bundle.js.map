{"version":3,"sources":["app.js","environment.js","main.js","resources/index.js","services/authentication.js","services/local.js","services/settings.js","services/tracker.js","pages/backlog/sprint.js","pages/login/login.js","pages/projects/select.js","resources/value-converters/backlogcolumns.js","pages/backlog/filter-columns.js","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/app.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/pages/backlog/sprint.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/pages/login/login.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/pages/projects/select.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/resources/value-converters/backlogcolumns.html","C:/Users/ganha_000/Documents/Arbete/pivotal-tracker-dashboard-2/src/assets/styles/app.css"],"names":["App","bindingEngine","authentication","tracker","project","user","activate","getUser","propertyObserver","subscribe","newValue","oldValue","getProject","then","configureRouter","config","router","auth","title","addPipelineStep","map","route","moduleId","unAuthedOnly","name","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","setRoot","Authentication","currentUser","isAuthenticated","isValid","run","navigationInstruction","next","instructions","getAllInstructions","some","i","cancel","catch","Local","g","key","localStorage","getItem","JSON","parse","err","d","s","value","setItem","stringify","Array","isArray","forEach","removeItem","Settings","storyStates","columnBaseTypes","columns","basedOn","Tracker","client","local","ls","token","projectId","_projects","_currentUser","_token","_configureClient","withBaseUrl","withDefaults","headers","_fetch","url","resolve","reject","fetch","response","json","kind","Error","code","error","parseInt","getProjects","projects","item","id","length","getCurrent","getUsers","result","Sprint","settings","iteration","timeout","pollInterval","users","params","routeConfig","navigate","startPoll","deactivate","clearTimeout","userId","person","setTimeout","bind","Login","placeholder","setToken","console","log","Select","attached","BacklogcolumnsValueConverters","toView","array","filter","FilterColumnsValueConverter","slice","current_state","y","labels"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { inject } from \"aurelia-framework\";\nimport { BindingEngine } from \"aurelia-binding\";\nimport { Authentication } from \"./services/authentication\";\nimport { Tracker } from \"./services/tracker\";\n\n@inject(BindingEngine, Authentication, Tracker)\nexport class App {\n  constructor(bindingEngine, authentication, tracker) {\n    this.bindingEngine = bindingEngine;\n    this.authentication = authentication;\n    this.tracker = tracker;\n    this.project = {};\n    this.user = {};\n  }\n\n  activate() {\n    this.user = this.authentication.getUser();\n    this.bindingEngine.propertyObserver(this.tracker, \"projectId\")\n      .subscribe((newValue, oldValue) => {\n        this.tracker.getProject(newValue)\n          .then(project => this.project = project);\n      });\n  }\n\n  configureRouter(config, router) {\n    var auth = true;\n\n    config.title = \"Pivotal Tracker Sprint Backlog\";\n    config.addPipelineStep(\"authorize\", this.authentication);\n    config.map([\n      { route: [\"\", \"login\"], moduleId: \"pages/login/login\", title: \"Login\", unAuthedOnly: true },\n      { route: \"select-project\", name: \"select-project\", moduleId: \"pages/projects/select\", title: \"Select Project\", auth },\n      { route: \"project/:id/sprint-backlog\", name: \"sprint-backlog\", moduleId: \"pages/backlog/sprint\", title: \"Sprint Backlog\", auth },\n      { route: \"settings\", name: \"settings\", moduleId: \"settings\", title: \"Settings\", auth }\n    ]);\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from \"./environment\";\n\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature(\"./resources\");\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin(\"aurelia-testing\");\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import { inject } from \"aurelia-framework\";\nimport { Redirect } from \"aurelia-router\";\nimport { Tracker } from \"./tracker\";\n\n@inject(Tracker)\nexport class Authentication {\n  constructor(tracker) {\n    this.tracker = tracker;\n  }\n\n  getUser() {\n    return this.tracker.currentUser;\n  }\n\n  isAuthenticated() {\n    return this.tracker.isValid();\n  }\n\n  run(navigationInstruction, next) {\n    var instructions = navigationInstruction.getAllInstructions();\n    var auth = instructions.some(i => i.config.auth);\n    var unAuthedOnly = instructions.some(i => i.config.unAuthedOnly);\n\n    if (auth || unAuthedOnly) {\n      return this.isAuthenticated()\n        .then(result => {\n          return auth\n            ? next()\n            : next.cancel(new Redirect(\"select-project\"));\n        })\n        .catch(error => {\n          return unAuthedOnly\n            ? next()\n            : next.cancel(new Redirect(\"login\"));\n        });\n    } else {\n      return next();\n    }\n  }\n}\n","export class Local {\n  g (key) {\n    if (localStorage.getItem(key)) {\n      try {\n        return JSON.parse(localStorage.getItem(key));\n      } catch (err) {\n        this.d(key);\n        return false;\n      }\n    }\n  }\n\n  s (key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  d (key) {\n    if (Array.isArray(key)) {\n      key.forEach(i => this.d(i));\n    }\n    localStorage.removeItem(key);\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Local } from \"./local\";\n\n@inject(Local)\nexport class Settings {\n  constructor() {\n    this.storyStates = [\n       \"unscheduled\", \"unstarted\", \"started\", \"finished\", \"delivered\",\n       \"accepted\", \"rejected\"\n    ];\n\n    this.columnBaseTypes = [\"state\", \"label\"];\n    \n    this.columns = [\n      { title: \"Todo\", basedOn: \"state\", value: [\"planned\", \"unstarted\"] },\n      { title: \"Doing\", basedOn: \"state\", value: [\"started\"] },\n      { title: \"Testing\", basedOn: \"state\", value: [\"finished\"] },\n      { title: \"Done\", basedOn: \"state\", value: [\"delivered\", \"accepted\"] },\n      { title: \"Impedements\", basedOn: \"label\", value: [\"_blocked\"] }\n    ];\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { HttpClient } from \"aurelia-fetch-client\";\nimport { Local } from \"./local\";\n\n@inject(HttpClient, Local)\nexport class Tracker {\n  constructor(client, local) {\n    this.client = client;\n    this.local = local;\n    this.ls = {\n      token: \"pivotal-tracker-token\",\n      user: \"pivotal-tracker-current-user\"\n    };\n    this.projectId = null;\n    this._projects = [];\n    this._currentUser = this.local.g(this.ls.user) || null;\n    this._token = this.local.g(this.ls.token) || null;\n    this._configureClient();\n  }\n\n  _configureClient() {\n    this.client.configure(config => {\n      config\n        .withBaseUrl(\"https://www.pivotaltracker.com/services/v5/\")\n        .withDefaults({\n          headers: {\n            \"X-TrackerToken\": this._token\n          }\n        });\n    });\n  }\n\n  set currentUser(value) {\n    if (value) {\n      this._currentUser = value;\n      this.local.s(this.ls.user, value);\n    } else {\n      this._currentUser = null;\n      this.local.d(this.ls);\n    }\n  }\n\n  get currentUser() {\n    return this._token ? this._currentUser : null;\n  }\n\n  set token(value) {\n    this._token = value;\n\n    this.local.s(this.ls.token, value);\n\n    this._configureClient();\n  }\n\n  _fetch(url) {\n    return new Promise((resolve, reject) => {\n      this.client.fetch(url)\n        .then(response => response.json())\n        .then(response => {\n          if (response.kind !== \"error\") {\n            resolve(response);\n          } else {\n            this.currentUser = null;\n            reject(new Error(response.code));\n          }\n        })\n        .catch(error => {\n          this.currentUser = null;\n          reject(error);\n        })\n    });\n  }\n\n  getProject(projectId) {\n    projectId = parseInt(projectId);\n    \n    return new Promise((resolve, reject) => {\n      this.getProjects()\n        .then(projects => {\n          projects.forEach(item => {\n            if (item.id === projectId) {\n              resolve(item);\n            }\n          });\n          resolve();\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  getProjects() {\n    return new Promise((resolve, reject) => {\n      if (this._projects && this._projects.length > 0) {\n        return resolve(this._projects);\n      }\n\n      this._fetch(\"projects\")\n        .then(projects => {\n          this._projects = projects;\n          resolve(this._projects);\n        })\n        .catch(error => reject(error));\n    });\n  }\n\n  getCurrent() {\n    return this._fetch(`projects/${this.projectId}/iterations?scope=current_backlog&limit=1`);\n  }\n\n  getUsers() {\n    return this._fetch(`projects/${this.projectId}/memberships`);\n  }\n\n  isValid() {\n    return new Promise((resolve, reject) => {\n      if (this.currentUser) {\n        return resolve(this.currentUser);\n      }\n\n      this.client.fetch(\"me\")\n        .then(response => response.json())\n        .then(result => {\n          if (result.kind !== \"error\") {\n            this.currentUser = result;\n            resolve(this.currentUser);\n          } else {\n            this.currentUser = null;\n            reject(new Error(response.code));\n          }\n        })\n        .catch(error => {\n          this.currentUser = null;\n          reject(error);\n        });\n    });\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\nimport { Settings } from \"./../../services/settings\";\n\n@inject(Router, Tracker, Settings)\nexport class Sprint {\n  constructor(router, tracker, settings) {\n    this.columns = settings.columns;\n    this.router = router;\n    this.tracker = tracker;\n    this.iteration = {};\n    this.timeout = null;\n    this.pollInterval = 60000;\n    this.users = [];\n  }\n\n  activate(params, routeConfig) {\n    this.tracker.projectId = this.projectId = params.id;\n    this.tracker.getUsers()\n      .then(users => this.users = users)\n      .catch(error => this.router.navigate(\"\"));\n    this.startPoll();\n  }\n\n  deactivate() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  getUser(userId) {\n    userId = parseInt(userId);\n\n    for (var i = 0; i < this.users.length; i++) {\n      var user = this.users[i];\n\n      if (userId === user.person.id) {\n        return user;\n      }\n    }\n  }\n\n  startPoll() {\n    this.tracker.getCurrent()\n      .then(iteration => {\n        this.iteration = iteration[0];\n        this.timeout = setTimeout(this.startPoll.bind(this), this.pollInterval);\n      })\n      .catch(error => this.router.navigate(\"\"));\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\n\n@inject(Tracker, Router)\nexport class Login {\n  constructor(tracker, router) {\n    this.tracker = tracker;\n    this.router = router;\n\n    this.placeholder = \"Enter API token..\";\n    this.token = \"4ea441cc4dcb4ee87426549edd244a95\";\n  }\n\n  setToken() {\n    if (this.token.length > 0) {\n      this.tracker.token = this.token;\n      this.tracker.isValid()\n        .then(result => {\n          this.router.navigate(\"select-project\");\n        })\n        .catch(error => {\n          console.log(\"Try again, stupid\");\n        });\n    } else {\n      console.log(\"Try again, stupid 2\");\n    }\n  }\n}\n","import { inject } from \"aurelia-framework\";\nimport { Router } from \"aurelia-router\";\nimport { Tracker } from \"./../../services/tracker\";\n\n@inject(Tracker, Router)\nexport class Select {\n  constructor(tracker, router) {\n    this.tracker = tracker;\n    this.router = router;\n    this.projects = [];\n  }\n\n  attached() {\n    this.tracker.getProjects()\n      .then(projects => this.projects = projects)\n      .catch(error => this.router.navigate(\"\"));\n  }\n} \n","export class BacklogcolumnsValueConverters {\n  toView(array, config) {\n    console.log(array, config);\n    return array.filter(item => {\n      return true;\n    });\n  }\n}\n","export class FilterColumnsValueConverter {\n  toView(array, config) {\n    if (Array.isArray(array) === false) {\n      return array;\n    }\n\n    var value = config.value;\n    if (Array.isArray(value) === false) {\n      value = [value];\n    }\n\n    return array.slice(0).filter(item => {\n      if (config.basedOn === \"state\") {\n        for (var i = 0; i < value.length; i++) {\n          if (item.current_state === value[i]) {\n            return true;\n          }\n        }\n      } else {\n        for (var i = 0; i < value.length; i++) {\n          for (var y = 0; y < item.labels.length; y++) {\n            if (item.labels[y].name === value[i]) {\n              return true;\n            }\n          }\n        }\n      }\n\n      return false;\n    });\n  }\n}\n",null,null,null,null,null,null],"sourceRoot":"..\\src"}